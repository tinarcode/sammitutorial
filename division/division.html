<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎮 除法小遊戲 - 二年級數學</title>
    <link rel="stylesheet" href="division.css">
</head>
<body>
    <!-- 浮動裝飾 -->
    <div class="floating-decorations">
        <div class="decoration">⭐</div>
        <div class="decoration">🌟</div>
        <div class="decoration">💫</div>
        <div class="decoration">✨</div>
        <div class="decoration">🎈</div>
        <div class="decoration">🎨</div>
        <div class="decoration">🎯</div>
        <div class="decoration">🏆</div>
    </div>
    
    <div class="container">
        <!-- 登入畫面 -->
        <div id="loginScreen" class="login-screen">
            <div class="header">
                <h1 class="animated-title">🎮 除法小遊戲 🎯</h1>
                <p class="subtitle-fancy">學習除法，快樂成長！✨</p>
                <div class="mascot" id="selectedMascot">🐻</div>
            </div>
            
            <div class="form-group">
                <label for="mascotSelect">選擇你的動物夥伴：</label>
                <div class="mascot-selection">
                    <div class="mascot-option" data-mascot="🐻" title="小熊">🐻</div>
                    <div class="mascot-option" data-mascot="🐼" title="熊貓">🐼</div>
                    <div class="mascot-option" data-mascot="🐨" title="無尾熊">🐨</div>
                    <div class="mascot-option" data-mascot="🐯" title="老虎">🐯</div>
                    <div class="mascot-option" data-mascot="🦁" title="獅子">🦁</div>
                    <div class="mascot-option" data-mascot="🐰" title="兔子">🐰</div>
                    <div class="mascot-option" data-mascot="🐶" title="小狗">🐶</div>
                    <div class="mascot-option" data-mascot="🐱" title="小貓">🐱</div>
                    <div class="mascot-option" data-mascot="🦊" title="狐狸">🦊</div>
                    <div class="mascot-option" data-mascot="🐵" title="猴子">🐵</div>
                    <div class="mascot-option" data-mascot="🐸" title="青蛙">🐸</div>
                    <div class="mascot-option" data-mascot="🐷" title="小豬">🐷</div>
                    <div class="mascot-option" data-mascot="🐮" title="乳牛">🐮</div>
                    <div class="mascot-option" data-mascot="🐥" title="小雞">🐥</div>
                    <div class="mascot-option" data-mascot="🐧" title="企鵝">🐧</div>
                    <div class="mascot-option" data-mascot="🦆" title="鴨子">🦆</div>
                    <div class="mascot-option" data-mascot="🦉" title="貓頭鷹">🦉</div>
                    <div class="mascot-option" data-mascot="🦋" title="蝴蝶">🦋</div>
                    <div class="mascot-option" data-mascot="🐝" title="蜜蜂">🐝</div>
                    <div class="mascot-option" data-mascot="🐢" title="烏龜">🐢</div>
                    <div class="mascot-option" data-mascot="🦖" title="恐龍">🦖</div>
                    <div class="mascot-option" data-mascot="🦄" title="獨角獸">🦄</div>
                    <div class="mascot-option" data-mascot="🐲" title="龍">🐲</div>
                    <div class="mascot-option" data-mascot="🦈" title="鯊魚">🦈</div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="classInput">班級：</label>
                <select id="classInput">
                    <option value="">-- 請選擇班級 --</option>
                    <option value="P1A">P1A</option>
                    <option value="P1B">P1B</option>
                    <option value="P1C">P1C</option>
                    <option value="P1D">P1D</option>
                    <option value="P2A">P2A</option>
                    <option value="P2B">P2B</option>
                    <option value="P2C">P2C</option>
                    <option value="P2D">P2D</option>
                    <option value="P3A">P3A</option>
                    <option value="P3B">P3B</option>
                    <option value="P3C">P3C</option>
                    <option value="P3D">P3D</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="studentIdInput">學號：</label>
                <input type="text" id="studentIdInput" placeholder="請輸入學號" maxlength="20">
            </div>
            
            <div class="form-group">
                <label for="difficultySelect">難度：</label>
                <select id="difficultySelect">
                    <option value="easy">簡單（÷2,3,4,5 | 10題）</option>
                    <option value="medium">中等（÷2-9 | 15題）</option>
                    <option value="hard">困難（÷2-12 | 20題）</option>
                </select>
            </div>
            
            <button class="btn btn-primary btn-animated" onclick="startGame()">
                <span class="btn-text">開始遊戲</span>
                <span class="btn-emoji">🚀</span>
            </button>
            
            <div style="text-align: center; margin-top: 20px;">
                <a href="division-ranking.html" class="ranking-link">
                    🏆 查看排行榜 📊
                </a>
            </div>
        </div>
        
        <!-- 遊戲畫面 -->
        <div id="gameScreen" class="game-screen">
            <div class="header">
                <h1 class="game-title">🎮 除法練習 🎯</h1>
                <div class="game-mascot" id="gameMascot">🐻</div>
                <p id="studentInfo" class="student-info-fancy"></p>
            </div>
            
            <div class="game-info">
                <div class="info-item info-score">
                    <div class="info-icon">💰</div>
                    <div class="info-label">分數</div>
                    <div class="info-value" id="scoreDisplay">0</div>
                </div>
                <div class="info-item info-question">
                    <div class="info-icon">📝</div>
                    <div class="info-label">題數</div>
                    <div class="info-value" id="questionCount">0 / 10</div>
                </div>
                <div class="info-item info-correct">
                    <div class="info-icon">✅</div>
                    <div class="info-label">答對</div>
                    <div class="info-value" id="correctCount">0</div>
                </div>
            </div>
            
            <div class="question-container">
                <div class="question-decoration">🌈</div>
                <div class="question" id="questionText">準備中...</div>
                <input type="number" 
                       id="answerInput" 
                       class="answer-input" 
                       placeholder="?"
                       min="0">
                <div class="question-decoration-bottom">🎨</div>
            </div>
            
            <div id="feedback" class="feedback"></div>
            
            <button class="btn btn-success btn-animated" onclick="checkAnswer()">
                <span class="btn-text">確認答案</span>
                <span class="btn-emoji">✓</span>
            </button>
        </div>
        
        <!-- 結果畫面 -->
        <div id="resultScreen" class="result-screen">
            <div class="header">
                <h1 class="result-title">🎉 遊戲結束 🎊</h1>
                <div class="result-mascot" id="resultMascot">🐻</div>
                <div class="celebration">🎈🎈🎈</div>
            </div>
            
            <div class="result-container">
                <div class="trophy-animation">🏆</div>
                <div class="encouragement" id="encouragement"></div>
                
                <div class="score-display-wrapper">
                    <div class="score-label">你的分數</div>
                    <div class="score-display" id="finalScore">0</div>
                    <div class="stars-rating" id="starsRating">⭐⭐⭐</div>
                </div>
                
                <div class="result-stats">
                    <div class="stat-row">
                        <span class="stat-label">答對題數：</span>
                        <span class="stat-value"><span id="finalCorrect">0</span> / <span id="finalTotal">10</span></span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">正確率：</span>
                        <span class="stat-value" id="finalAccuracy">0%</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">花費時間：</span>
                        <span class="stat-value" id="finalTime">0分0秒</span>
                    </div>
                </div>
                
                <!-- 班級排行榜 -->
                <div class="class-ranking">
                    <h3 class="ranking-title">
                        <span class="ranking-icon">🏅</span>
                        <span id="rankingClassInfo">班級排行榜</span>
                    </h3>
                    <div class="ranking-loading" id="rankingLoading">載入中...</div>
                    <div class="ranking-list" id="rankingList">
                        <!-- 排行榜內容將由 JavaScript 動態生成 -->
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-success btn-animated" onclick="playAgain()">
                        <span class="btn-text">再玩一次</span>
                        <span class="btn-emoji">🔄</span>
                    </button>
                    <button class="btn btn-primary btn-animated" onclick="backToHome()">
                        <span class="btn-text">返回首頁</span>
                        <span class="btn-emoji">🏠</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="division.js"></script>
</body>
</html>
